{"ast":null,"code":"/* global chrome */import{useState,useEffect}from\"react\";import\"./styles/popup.css\";// CSS file\nimport Advice from\"./components/Advice\";// âœ… import Advice component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[data,setData]=useState([]);const[active,setActive]=useState(false);// Sync status on popup open\nuseEffect(()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"getStatus\"},res=>{if(res)setActive(res.active);});});},[]);const toggleScraper=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"toggleScraper\"},response=>response&&setActive(response.active));});};const getData=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"getData\"},response=>{if(response)setData(response);});});};const clearData=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"clearData\"},()=>{setData([]);});});};const exportCSV=()=>{if(!data.length)return;const csvContent=\"data:text/csv;charset=utf-8,\"+[\"Tag,Text\",...data.map(d=>\"\".concat(d.tag,\",\\\"\").concat(d.text.replace(/\"/g,'\"\"'),\"\\\"\"))].join(\"\\n\");const link=document.createElement(\"a\");link.href=encodeURI(csvContent);link.download=\"scraped_data.csv\";link.click();};return/*#__PURE__*/_jsxs(\"div\",{className:\"ds-popup\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"ds-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"ds-emoji\"}),\"Data Scraper\"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",marginBottom:12},children:/*#__PURE__*/_jsx(\"span\",{className:\"ds-badge \".concat(active?\"green\":\"\"),children:active?\"ðŸŸ¢ Selecting Mode\":\"ðŸ”´ Inactive\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ds-row\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleScraper,className:\"ds-btn ds-primary\",children:active?\"Stop Selecting\":\"Start Selecting\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getData,className:\"ds-btn ds-success\",children:\"Get Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearData,className:\"ds-btn ds-dark\",children:\"Clear\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ds-card\",children:data.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"ds-empty\",children:\"No data scraped yet\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"ds-list\",children:data.map((d,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"ds-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:d.tag}),\": \",d.text]},i))})}),/*#__PURE__*/_jsx(\"button\",{onClick:exportCSV,disabled:data.length===0,className:\"ds-btn ds-warn ds-export\",children:\"Export CSV\"})]});}export default App;","map":{"version":3,"names":["useState","useEffect","Advice","jsx","_jsx","jsxs","_jsxs","App","data","setData","active","setActive","chrome","tabs","query","currentWindow","sendMessage","id","action","res","toggleScraper","response","getData","clearData","exportCSV","length","csvContent","map","d","concat","tag","text","replace","join","link","document","createElement","href","encodeURI","download","click","className","children","style","textAlign","marginBottom","onClick","i","disabled"],"sources":["C:/Users/coold/OneDrive/Documents/VSCODE/data-scraper-extension/frontend/src/App.js"],"sourcesContent":["/* global chrome */\nimport { useState, useEffect } from \"react\";\nimport \"./styles/popup.css\";   // CSS file\nimport Advice from \"./components/Advice\"; // âœ… import Advice component\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [active, setActive] = useState(false);\n\n  // Sync status on popup open\n  useEffect(() => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"getStatus\" }, (res) => {\n        if (res) setActive(res.active);\n      });\n    });\n  }, []);\n\n  const toggleScraper = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(\n        tabs[0].id,\n        { action: \"toggleScraper\" },\n        (response) => response && setActive(response.active)\n      );\n    });\n  };\n\n  const getData = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"getData\" }, (response) => {\n        if (response) setData(response);\n      });\n    });\n  };\n\n  const clearData = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"clearData\" }, () => {\n        setData([]);\n      });\n    });\n  };\n\n  const exportCSV = () => {\n    if (!data.length) return;\n    const csvContent =\n      \"data:text/csv;charset=utf-8,\" +\n      [\"Tag,Text\", ...data.map((d) => `${d.tag},\"${d.text.replace(/\"/g, '\"\"')}\"`)].join(\"\\n\");\n    const link = document.createElement(\"a\");\n    link.href = encodeURI(csvContent);\n    link.download = \"scraped_data.csv\";\n    link.click();\n  };\n\n  return (\n    <div className=\"ds-popup\">\n      <h1 className=\"ds-title\">\n        <span className=\"ds-emoji\"></span>Data Scraper\n      </h1>\n\n      <div style={{ textAlign: \"center\", marginBottom: 12 }}>\n        <span className={`ds-badge ${active ? \"green\" : \"\"}`}>\n          {active ? \"ðŸŸ¢ Selecting Mode\" : \"ðŸ”´ Inactive\"}\n        </span>\n      </div>\n\n      {/* Scraper Controls */}\n      <div className=\"ds-row\">\n        <button onClick={toggleScraper} className=\"ds-btn ds-primary\">\n          {active ? \"Stop Selecting\" : \"Start Selecting\"}\n        </button>\n        <button onClick={getData} className=\"ds-btn ds-success\">Get Data</button>\n        <button onClick={clearData} className=\"ds-btn ds-dark\">Clear</button>\n      </div>\n\n      {/* Scraped Data */}\n      <div className=\"ds-card\">\n        {data.length === 0 ? (\n          <p className=\"ds-empty\">No data scraped yet</p>\n        ) : (\n          <ul className=\"ds-list\">\n            {data.map((d, i) => (\n              <li key={i} className=\"ds-item\">\n                <b>{d.tag}</b>: {d.text}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n\n      <button\n        onClick={exportCSV}\n        disabled={data.length === 0}\n        className=\"ds-btn ds-warn ds-export\"\n      >\n         Export CSV\n      </button>\n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}