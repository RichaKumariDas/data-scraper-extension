{"ast":null,"code":"/* global chrome */import{useState,useEffect}from\"react\";import\"./styles/popup.css\";// Popup UI styles\nimport Advice from\"./components/Advice\";// Random advice component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[data,setData]=useState([]);// Scraped data storage\nconst[active,setActive]=useState(false);// Scraper toggle state\n// âœ… Check scraper status when popup opens\nuseEffect(()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"getStatus\"},res=>{if(res)setActive(res.active);});});},[]);// âœ… Toggle scraper mode (start/stop selecting elements)\nconst toggleScraper=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"toggleScraper\"},response=>response&&setActive(response.active));});};// âœ… Get scraped data from content.js\nconst getData=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{if(!tabs[0])return;chrome.tabs.sendMessage(tabs[0].id,{action:\"getData\"},response=>{if(chrome.runtime.lastError){console.warn(\"No content script:\",chrome.runtime.lastError.message);return;}if(response)setData(response);});});};// âœ… Clear scraped data + remove highlights\nconst clearData=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"clearData\"},()=>{setData([]);});});};// âœ… Export scraped data as CSV file\nconst exportCSV=()=>{if(!data.length)return;const csvContent=\"data:text/csv;charset=utf-8,\"+[\"Tag,Text\",...data.map(d=>\"\".concat(d.tag,\",\\\"\").concat(d.text.replace(/\"/g,'\"\"'),\"\\\"\"))].join(\"\\n\");const link=document.createElement(\"a\");link.href=encodeURI(csvContent);link.download=\"scraped_data.csv\";link.click();};return/*#__PURE__*/_jsxs(\"div\",{className:\"ds-popup\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"ds-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"ds-emoji\"}),\"Data Scraper\"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",marginBottom:12},children:/*#__PURE__*/_jsx(\"span\",{className:\"ds-badge \".concat(active?\"green\":\"\"),children:active?\"ðŸŸ¢ Selecting Mode\":\"ðŸ”´ Inactive\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ds-row\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleScraper,className:\"ds-btn ds-primary\",children:active?\"Stop Selecting\":\"Start Selecting\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getData,className:\"ds-btn ds-success\",children:\"Get Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearData,className:\"ds-btn ds-dark\",children:\"Clear\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ds-card\",children:data.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"ds-empty\",children:\"No data scraped yet\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"ds-list\",children:data.map((d,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"ds-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:d.tag}),\": \",d.text]},i))})}),/*#__PURE__*/_jsx(\"button\",{onClick:exportCSV,disabled:data.length===0,className:\"ds-btn ds-warn ds-export\",children:\"Export CSV\"}),/*#__PURE__*/_jsx(Advice,{})]});}export default App;","map":{"version":3,"names":["useState","useEffect","Advice","jsx","_jsx","jsxs","_jsxs","App","data","setData","active","setActive","chrome","tabs","query","currentWindow","sendMessage","id","action","res","toggleScraper","response","getData","runtime","lastError","console","warn","message","clearData","exportCSV","length","csvContent","map","d","concat","tag","text","replace","join","link","document","createElement","href","encodeURI","download","click","className","children","style","textAlign","marginBottom","onClick","i","disabled"],"sources":["C:/Users/coold/OneDrive/Documents/VSCODE/data-scraper-extension/frontend/src/App.js"],"sourcesContent":["/* global chrome */\nimport { useState, useEffect } from \"react\";\nimport \"./styles/popup.css\";   // Popup UI styles\nimport Advice from \"./components/Advice\"; // Random advice component\n\nfunction App() {\n  const [data, setData] = useState([]);     // Scraped data storage\n  const [active, setActive] = useState(false); // Scraper toggle state\n\n  // âœ… Check scraper status when popup opens\n  useEffect(() => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"getStatus\" }, (res) => {\n        if (res) setActive(res.active);\n      });\n    });\n  }, []);\n\n  // âœ… Toggle scraper mode (start/stop selecting elements)\n  const toggleScraper = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(\n        tabs[0].id,\n        { action: \"toggleScraper\" },\n        (response) => response && setActive(response.active)\n      );\n    });\n  };\n\n  // âœ… Get scraped data from content.js\nconst getData = () => {\n  chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n    if (!tabs[0]) return;\n    chrome.tabs.sendMessage(tabs[0].id, { action: \"getData\" }, (response) => {\n      if (chrome.runtime.lastError) {\n        console.warn(\"No content script:\", chrome.runtime.lastError.message);\n        return;\n      }\n      if (response) setData(response);\n    });\n  });\n};\n\n\n  // âœ… Clear scraped data + remove highlights\n  const clearData = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"clearData\" }, () => {\n        setData([]);\n      });\n    });\n  };\n\n  // âœ… Export scraped data as CSV file\n  const exportCSV = () => {\n    if (!data.length) return;\n    const csvContent =\n      \"data:text/csv;charset=utf-8,\" +\n      [\"Tag,Text\", ...data.map((d) => `${d.tag},\"${d.text.replace(/\"/g, '\"\"')}\"`)].join(\"\\n\");\n    const link = document.createElement(\"a\");\n    link.href = encodeURI(csvContent);\n    link.download = \"scraped_data.csv\";\n    link.click();\n  };\n\n  return (\n    <div className=\"ds-popup\">\n      {/* Title */}\n      <h1 className=\"ds-title\">\n        <span className=\"ds-emoji\"></span>Data Scraper\n      </h1>\n\n      {/* Status Indicator */}\n      <div style={{ textAlign: \"center\", marginBottom: 12 }}>\n        <span className={`ds-badge ${active ? \"green\" : \"\"}`}>\n          {active ? \"ðŸŸ¢ Selecting Mode\" : \"ðŸ”´ Inactive\"}\n        </span>\n      </div>\n\n      {/* Scraper Controls */}\n      <div className=\"ds-row\">\n        <button onClick={toggleScraper} className=\"ds-btn ds-primary\">\n          {active ? \"Stop Selecting\" : \"Start Selecting\"}\n        </button>\n        <button onClick={getData} className=\"ds-btn ds-success\">Get Data</button>\n        <button onClick={clearData} className=\"ds-btn ds-dark\">Clear</button>\n      </div>\n\n      {/* Scraped Data Display */}\n      <div className=\"ds-card\">\n        {data.length === 0 ? (\n          <p className=\"ds-empty\">No data scraped yet</p>\n        ) : (\n          <ul className=\"ds-list\">\n            {data.map((d, i) => (\n              <li key={i} className=\"ds-item\">\n                <b>{d.tag}</b>: {d.text}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n\n      {/* Export CSV */}\n      <button\n        onClick={exportCSV}\n        disabled={data.length === 0}\n        className=\"ds-btn ds-warn ds-export\"\n      >\n        Export CSV\n      </button>\n\n      {/* Extra Feature: Advice Component */}\n      <Advice />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}