{"ast":null,"code":"/* global chrome */import{useState,useEffect}from\"react\";import\"./styles/popup.css\";// <- CSS file\nimport{fetchAdvice}from\"./api\";// import API function\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[data,setData]=useState([]);const[active,setActive]=useState(false);const[advice,setAdvice]=useState(\"\");// <-- new state for API data\n// Sync status on popup open\nuseEffect(()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"getStatus\"},res=>{if(res)setActive(res.active);});});},[]);const toggleScraper=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"toggleScraper\"},response=>response&&setActive(response.active));});};const getData=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"getData\"},response=>{if(response)setData(response);});});};const clearData=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"clearData\"},()=>{setData([]);});});};const exportCSV=()=>{if(!data.length)return;const csvContent=\"data:text/csv;charset=utf-8,\"+[\"Tag,Text\",...data.map(d=>\"\".concat(d.tag,\",\\\"\").concat(d.text.replace(/\"/g,'\"\"'),\"\\\"\"))].join(\"\\n\");const link=document.createElement(\"a\");link.href=encodeURI(csvContent);link.download=\"scraped_data.csv\";link.click();};// 🌐 Fetch Advice API\nconst getAdvice=async()=>{const newAdvice=await fetchAdvice();setAdvice(newAdvice);};return/*#__PURE__*/_jsxs(\"div\",{className:\"ds-popup\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"ds-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"ds-emoji\",children:\"\\u26A1\"}),\"Data Scraper\"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",marginBottom:12},children:/*#__PURE__*/_jsx(\"span\",{className:\"ds-badge \".concat(active?\"green\":\"\"),children:active?\"🟢 Selecting Mode\":\"🔴 Inactive\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ds-row\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleScraper,className:\"ds-btn ds-primary\",children:active?\"Stop Selecting\":\"Start Selecting\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getData,className:\"ds-btn ds-success\",children:\"Get Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearData,className:\"ds-btn ds-dark\",children:\"Clear\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ds-card\",children:data.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"ds-empty\",children:\"No data scraped yet\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"ds-list\",children:data.map((d,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"ds-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:d.tag}),\": \",d.text]},i))})}),/*#__PURE__*/_jsxs(\"button\",{onClick:exportCSV,disabled:data.length===0,className:\"ds-btn ds-warn ds-export\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"icons/download.png\",alt:\"Export\",className:\"ds-icon\"}),\"Export CSV\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ds-card advice-box\",style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCA1 Random Advice\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getAdvice,className:\"ds-btn ds-primary\",children:\"Get Advice\"}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"10px\"},children:advice})]})]});}export default App;","map":{"version":3,"names":["useState","useEffect","fetchAdvice","jsx","_jsx","jsxs","_jsxs","App","data","setData","active","setActive","advice","setAdvice","chrome","tabs","query","currentWindow","sendMessage","id","action","res","toggleScraper","response","getData","clearData","exportCSV","length","csvContent","map","d","concat","tag","text","replace","join","link","document","createElement","href","encodeURI","download","click","getAdvice","newAdvice","className","children","style","textAlign","marginBottom","onClick","i","disabled","src","alt","marginTop"],"sources":["C:/Users/coold/OneDrive/Documents/VSCODE/data-scraper-extension/frontend/src/App.js"],"sourcesContent":["/* global chrome */\nimport { useState, useEffect } from \"react\";\nimport \"./styles/popup.css\";   // <- CSS file\nimport { fetchAdvice } from \"./api\"; // import API function\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [active, setActive] = useState(false);\n  const [advice, setAdvice] = useState(\"\"); // <-- new state for API data\n\n  // Sync status on popup open\n  useEffect(() => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"getStatus\" }, (res) => {\n        if (res) setActive(res.active);\n      });\n    });\n  }, []);\n\n  const toggleScraper = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(\n        tabs[0].id,\n        { action: \"toggleScraper\" },\n        (response) => response && setActive(response.active)\n      );\n    });\n  };\n\n  const getData = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"getData\" }, (response) => {\n        if (response) setData(response);\n      });\n    });\n  };\n\n  const clearData = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"clearData\" }, () => {\n        setData([]);\n      });\n    });\n  };\n\n  const exportCSV = () => {\n    if (!data.length) return;\n    const csvContent =\n      \"data:text/csv;charset=utf-8,\" +\n      [\"Tag,Text\", ...data.map((d) => `${d.tag},\"${d.text.replace(/\"/g, '\"\"')}\"`)].join(\"\\n\");\n    const link = document.createElement(\"a\");\n    link.href = encodeURI(csvContent);\n    link.download = \"scraped_data.csv\";\n    link.click();\n  };\n\n  // 🌐 Fetch Advice API\n  const getAdvice = async () => {\n    const newAdvice = await fetchAdvice();\n    setAdvice(newAdvice);\n  };\n\n  return (\n    <div className=\"ds-popup\">\n      <h1 className=\"ds-title\">\n        <span className=\"ds-emoji\">⚡</span>Data Scraper\n      </h1>\n\n      <div style={{ textAlign: \"center\", marginBottom: 12 }}>\n        <span className={`ds-badge ${active ? \"green\" : \"\"}`}>\n          {active ? \"🟢 Selecting Mode\" : \"🔴 Inactive\"}\n        </span>\n      </div>\n\n      {/* Scraper Controls */}\n      <div className=\"ds-row\">\n        <button onClick={toggleScraper} className=\"ds-btn ds-primary\">\n          {active ? \"Stop Selecting\" : \"Start Selecting\"}\n        </button>\n        <button onClick={getData} className=\"ds-btn ds-success\">Get Data</button>\n        <button onClick={clearData} className=\"ds-btn ds-dark\">Clear</button>\n      </div>\n\n      {/* Scraped Data */}\n      <div className=\"ds-card\">\n        {data.length === 0 ? (\n          <p className=\"ds-empty\">No data scraped yet</p>\n        ) : (\n          <ul className=\"ds-list\">\n            {data.map((d, i) => (\n              <li key={i} className=\"ds-item\">\n                <b>{d.tag}</b>: {d.text}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n\n      <button\n        onClick={exportCSV}\n        disabled={data.length === 0}\n        className=\"ds-btn ds-warn ds-export\"\n      >\n         <img src=\"icons/download.png\" alt=\"Export\" className=\"ds-icon\" />\n         Export CSV\n      </button>\n\n      {/* Advice API Section */}\n      <div className=\"ds-card advice-box\" style={{ marginTop: \"20px\" }}>\n        <h2>💡 Random Advice</h2>\n        <button onClick={getAdvice} className=\"ds-btn ds-primary\">\n          Get Advice\n        </button>\n        <p style={{ marginTop: \"10px\" }}>{advice}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}