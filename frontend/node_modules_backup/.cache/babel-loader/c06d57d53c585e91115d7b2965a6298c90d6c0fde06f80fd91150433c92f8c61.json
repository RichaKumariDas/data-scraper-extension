{"ast":null,"code":"/* global chrome */import{useState,useEffect}from\"react\";import\"./styles/popup.css\";// <- import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[data,setData]=useState([]);const[active,setActive]=useState(false);const[showDataBox,setShowDataBox]=useState(false);// Sync status on popup open\nuseEffect(()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"getStatus\"},res=>{if(res)setActive(res.active);});});},[]);const toggleScraper=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"toggleScraper\"},response=>response&&setActive(response.active));});};const getData=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"getData\"},response=>{if(response){setData(response);setShowDataBox(true);// âœ… show box only after \"Get Data\"\n}});});};const clearData=()=>{chrome.tabs.query({active:true,currentWindow:true},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{action:\"clearData\"},()=>{setData([]);setShowDataBox(false);// âœ… hide box when cleared\n});});};const exportCSV=()=>{if(!data.length)return;const csvContent=\"data:text/csv;charset=utf-8,\"+[\"Tag,Text\",...data.map(d=>\"\".concat(d.tag,\",\\\"\").concat(d.text.replace(/\"/g,'\"\"'),\"\\\"\"))].join(\"\\n\");const link=document.createElement(\"a\");link.href=encodeURI(csvContent);link.download=\"scraped_data.csv\";link.click();};return/*#__PURE__*/_jsxs(\"div\",{className:\"ds-popup\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"ds-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"ds-emoji\",children:\"\\u26A1\"}),\"Data Scraper\"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",marginBottom:12},children:/*#__PURE__*/_jsx(\"span\",{className:\"ds-badge \".concat(active?\"green\":\"\"),children:active?\"ðŸŸ¢ Selecting Mode\":\"ðŸ”´ Inactive\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ds-row\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleScraper,className:\"ds-btn ds-primary\",children:active?\"Stop Selecting\":\"Start Selecting\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getData,className:\"ds-btn ds-success\",children:\"Get Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearData,className:\"ds-btn ds-dark\",children:\"Clear\"})]}),showDataBox&&/*#__PURE__*/_jsx(\"div\",{className:\"ds-card expand\",children:data.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"ds-empty\",children:\"No data scraped yet\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"ds-list\",children:data.map((d,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"ds-item\",children:[/*#__PURE__*/_jsx(\"b\",{children:d.tag}),\": \",d.text]},i))})}),/*#__PURE__*/_jsx(\"button\",{onClick:exportCSV,disabled:data.length===0,className:\"ds-btn ds-warn ds-export\",children:\"\\uD83D\\uDCE5 Export CSV\"})]});}export default App;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","data","setData","active","setActive","showDataBox","setShowDataBox","chrome","tabs","query","currentWindow","sendMessage","id","action","res","toggleScraper","response","getData","clearData","exportCSV","length","csvContent","map","d","concat","tag","text","replace","join","link","document","createElement","href","encodeURI","download","click","className","children","style","textAlign","marginBottom","onClick","i","disabled"],"sources":["C:/Users/coold/OneDrive/Documents/VSCODE/data-scraper-extension/frontend/src/App.js"],"sourcesContent":["/* global chrome */\nimport { useState, useEffect } from \"react\";\nimport \"./styles/popup.css\";   // <- import the CSS file\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [active, setActive] = useState(false);\n  const [showDataBox, setShowDataBox] = useState(false);\n\n  // Sync status on popup open\n  useEffect(() => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"getStatus\" }, (res) => {\n        if (res) setActive(res.active);\n      });\n    });\n  }, []);\n\n  const toggleScraper = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(\n        tabs[0].id,\n        { action: \"toggleScraper\" },\n        (response) => response && setActive(response.active)\n      );\n    });\n  };\n\n  const getData = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"getData\" }, (response) => {\n        if (response) {\n          setData(response);\n          setShowDataBox(true); // âœ… show box only after \"Get Data\"\n        }\n      });\n    });\n  };\n\n  const clearData = () => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      chrome.tabs.sendMessage(tabs[0].id, { action: \"clearData\" }, () => {\n        setData([]);\n        setShowDataBox(false); // âœ… hide box when cleared\n      });\n    });\n  };\n\n  const exportCSV = () => {\n    if (!data.length) return;\n    const csvContent =\n      \"data:text/csv;charset=utf-8,\" +\n      [\"Tag,Text\", ...data.map((d) => `${d.tag},\"${d.text.replace(/\"/g, '\"\"')}\"`)].join(\"\\n\");\n    const link = document.createElement(\"a\");\n    link.href = encodeURI(csvContent);\n    link.download = \"scraped_data.csv\";\n    link.click();\n  };\n\n  return (\n    <div className=\"ds-popup\">\n      <h1 className=\"ds-title\">\n        <span className=\"ds-emoji\">âš¡</span>Data Scraper\n      </h1>\n\n      <div style={{ textAlign: \"center\", marginBottom: 12 }}>\n        <span className={`ds-badge ${active ? \"green\" : \"\"}`}>\n          {active ? \"ðŸŸ¢ Selecting Mode\" : \"ðŸ”´ Inactive\"}\n        </span>\n      </div>\n\n      <div className=\"ds-row\">\n        <button onClick={toggleScraper} className=\"ds-btn ds-primary\">\n          {active ? \"Stop Selecting\" : \"Start Selecting\"}\n        </button>\n        <button onClick={getData} className=\"ds-btn ds-success\">Get Data</button>\n        <button onClick={clearData} className=\"ds-btn ds-dark\">Clear</button>\n      </div>\n\n      {/* âœ… Show only when Get Data is clicked */}\n      {showDataBox && (\n        <div className=\"ds-card expand\">\n          {data.length === 0 ? (\n            <p className=\"ds-empty\">No data scraped yet</p>\n          ) : (\n            <ul className=\"ds-list\">\n              {data.map((d, i) => (\n                <li key={i} className=\"ds-item\">\n                  <b>{d.tag}</b>: {d.text}\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      )}\n\n      <button\n        onClick={exportCSV}\n        disabled={data.length === 0}\n        className=\"ds-btn ds-warn ds-export\"\n      >\n        ðŸ“¥ Export CSV\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}